<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="mes-bom.DataTable" owl="1">
        <link rel="stylesheet" href="/mes-bom/static/src/components/data_table/data_table.css"/>
        <div class="header-container">
            <h2>Data Table</h2>
        </div>

        <div class="table-container">
            <table class="styled-table" t-ref="data-table">
                <thead>
                    <tr>
                        <th t-foreach="dataTable.dict"
                            t-as="key"
                            t-key="key_index"
                            t-att-data-value="key.id">
                            <t t-out="key"/>
                        </th>
                    </tr>
                </thead>

                <tbody>
                    <t t-foreach="dataTable.data" t-as="record" t-key="record_index" t-att-data-value="record.id">
                        <tr>
                            <td t-foreach="dataTable.keys" t-as="key" t-key="key_index">
                                    <t t-out="record[key]"/>
                            </td>
                        </tr>

                        <t t-set="childProcessLoaded" t-value="False"/>
                        <t t-if="!childProcessLoaded">
                            <t t-set="childProcessLoaded" t-value="True"/>
                            <t t-esc="loadChildProcess(record.child_process_ids)"/>
<!--                            <t t-foreach="dataTable.child_process" t-as="child_record" t-key="child_record_index" t-att-data-value="child_record.id">-->
<!--                                <tr>-->
<!--                                    <td t-foreach="dataTable.keys" t-as="key" t-key="key_index">-->
<!--                                        <t t-out="child_record[key]"/>-->
<!--                                    </td>-->
<!--                                </tr>-->
<!--                            </t>-->
                        </t>
                    </t>
                </tbody>
            </table>
        </div>
    </t>
</templates>